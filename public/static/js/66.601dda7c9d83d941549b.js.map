{"version":3,"sources":["webpack:///src/views/trans/sales/DropDown.vue","webpack:///./src/views/trans/sales/DropDown.vue?fe21","webpack:///./src/views/trans/sales/DropDown.vue"],"names":["DropDown","props","id","type","Number","default","info","Object","onBuy","Function","components","BuyModal","SaleEdit","mounted","data","user_id","this","$store","getters","role_id","methods","handleButtonClick","e","console","log","handleMenuClick","key","buy_store","down","update_store","value","$createElement","self","$confirm","title","content","h","style","onOk","sale","then","response","$message","success","message","$emit","onCancel","$refs","buy","visible","edit","showModal","sales_DropDown","render","_vm","_h","_c","_self","display","attrs","placement","slot","on","click","ref","on-buy","_e","_v","on-update","staticStyle","margin-left","size","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"wJA+BAA,GACAC,OACAC,IACAC,KAAAC,OACAC,QAAA,MAEAC,MACAH,KAAAI,OACAF,QAAA,MAEAG,OACAL,KAAAM,SACAJ,QAAA,OAGAK,YACAC,WAAA,QACAC,WAAA,SAEAC,QAnBA,aAoBAC,KApBA,WAqBA,OACAC,QAAAC,KAAAC,OAAAC,QAAAZ,KAAAJ,GACAiB,QAAAH,KAAAC,OAAAC,QAAAZ,KAAAa,UAGAC,SACAC,kBADA,SACAC,GACAC,QAAAC,IAAA,oBAAAF,IAEAG,gBAJA,SAIAH,GAEA,OADAC,QAAAC,IAAA,QAAAF,EAAAI,KACAtB,OAAAkB,EAAAI,MACA,OACAV,KAAAW,YACA,MACA,OACAX,KAAAY,KAAAZ,KAAAd,IACA,MACA,OACAc,KAAAa,iBAOAD,KArBA,SAqBAE,GAAAd,KAAAe,eAAA,IACAC,EAAAhB,KACAA,KAAAiB,UACAC,MAAA,QACAC,QAAA,SAAAC,GAAA,OAAAA,EAAA,OAAAC,MAAA,6BACAC,KAHA,WAIU/B,OAAAgC,EAAA,EAAAhC,EAAVL,GAAA4B,IAAAU,KAAA,SAAAC,GACAT,EAAAU,SAAAC,QAAAF,EAAAG,SACAZ,EAAAa,MAAA,aAGAC,SATA,WAUAd,EAAAU,SAAApC,KAAA,YAIAqB,UArCA,WAsCAX,KAAA+B,MAAAC,IAAAC,SAAA,GAEApB,aAxCA,WAyCAb,KAAA+B,MAAAG,KAAAC,eC/FeC,GADEC,OAFjB,WAA0B,IAAAC,EAAAtC,KAAauC,EAAAD,EAAAvB,eAA0ByB,EAAAF,EAAAG,MAAAD,IAAAD,EAAwB,OAAAC,EAAA,OAAiBnB,OAAQqB,QAAA,YAAoBF,EAAA,cAAmBG,OAAOC,UAAA,iBAA2BJ,EAAA,UAAeG,OAAOE,KAAA,WAAiBC,IAAKC,MAAAT,EAAA7B,iBAA4BoC,KAAA,YAAgBP,EAAAvC,SAAAuC,EAAAhD,KAAAS,QAAAyC,EAAA,eAAsD9B,IAAA,MAAQ8B,EAAA,aAAkBQ,IAAA,MAAAL,OAAiBrD,KAAAgD,EAAAhD,KAAA2D,SAAAX,EAAA9C,UAAoC,GAAA8C,EAAAY,KAAAZ,EAAAa,GAAA,KAAAb,EAAAvC,SAAAuC,EAAAhD,KAAAS,SAAA,GAAAuC,EAAAnC,QAAAqC,EAAA,eAAmG9B,IAAA,MAAQ8B,EAAA,OAAAA,EAAA,UAAyBG,OAAOxD,KAAA,WAAgBmD,EAAAa,GAAA,sBAAAb,EAAAY,KAAAZ,EAAAa,GAAA,KAAAb,EAAAvC,SAAAuC,EAAAhD,KAAAS,QAAAyC,EAAA,eAAwG9B,IAAA,MAAQ8B,EAAA,aAAkBQ,IAAA,OAAAL,OAAkBrD,KAAAgD,EAAAhD,KAAA8D,YAAAd,EAAA9C,UAAuC,GAAA8C,EAAAY,MAAA,GAAAZ,EAAAa,GAAA,KAAAX,EAAA,YAA8Ca,aAAaC,cAAA,OAAoBX,OAAQY,KAAA,QAAApE,KAAA,aAAiCmD,EAAAa,GAAA,8BAAAX,EAAA,UAAoDG,OAAOxD,KAAA,WAAe,YAE/5BqE,oBCYjBC,EAdyBC,EAAQ,OAcjCC,CACE3E,EACAoD,GATF,EAEA,KAEA,KAEA,MAUewB,EAAA,QAAAH,EAAiB","file":"static/js/66.601dda7c9d83d941549b.js","sourcesContent":["<template>\n  <div :style=\"{display: 'inline'}\">\n    <a-dropdown placement=\"bottomRight\">\n      <a-menu slot=\"overlay\" @click=\"handleMenuClick\">\n        <a-menu-item key=\"1\" v-if=\"user_id != info.user_id\">\n          <buy-modal ref=\"buy\" :info=\"info\" :on-buy=\"onBuy\" />\n        </a-menu-item>\n        <a-menu-item key=\"2\" v-if=\"user_id == info.user_id || role_id == 1\">\n          <div>\n              <a-icon type=\"money\" />下架\n          </div>\n        </a-menu-item>\n        <a-menu-item key=\"3\" v-if=\"user_id == info.user_id\">\n          <sale-edit ref=\"edit\" :info=\"info\" :on-update=\"onBuy\" />\n        </a-menu-item>\n      </a-menu>\n      <a-button size=\"small\" type=\"primary\" style=\"margin-left: 8px\">\n        操作\n        \n        <a-icon type=\"down\" />\n      </a-button>\n    </a-dropdown>\n  </div>\n</template>\n\n<script>\nimport { status } from \"@/api/money\";\nimport { down } from \"@/api/sale\";\nimport BuyModal from \"./BuyModal\";\nimport SaleEdit from './SaleEdit'\n\nexport default {\n  props: {\n    id: {\n      type: Number,\n      default: null\n    },\n    info: {\n      type: Object,\n      default: null\n    },\n    onBuy: {\n      type: Function,\n      default: null\n    }\n  },\n  components: {\n    BuyModal,\n    SaleEdit\n  },\n  mounted() {},\n  data() {\n    return {\n      user_id: this.$store.getters.info.id,\n      role_id: this.$store.getters.info.role_id\n    };\n  },\n  methods: {\n    handleButtonClick(e) {\n      console.log(\"click left button\", e);\n    },\n    handleMenuClick(e) {\n      console.log(\"click\", e.key);\n      switch (Number(e.key)) {\n        case 1:\n          this.buy_store();\n          break;\n        case 2:\n          this.down(this.id);\n          break;\n        case 3:\n          this.update_store()\n          break;\n        default:\n          break;\n      }\n    },\n\n    down(value) {\n      const self = this;\n      this.$confirm({\n        title: \"确认下架?\",\n        content: h => <div style=\"color:red;\">下架后可重新上架</div>,\n        onOk() {\n          down({ id: value }).then(response => {\n            self.$message.success(response.message);\n            self.$emit(\"update\");\n          });\n        },\n        onCancel() {\n          self.$message.info(\"取消下架\");\n        }\n      });\n    },\n    buy_store() {\n      this.$refs.buy.visible = true;\n    },\n    update_store() {\n        this.$refs.edit.showModal()\n    }\n  }\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/trans/sales/DropDown.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{style:({display: 'inline'})},[_c('a-dropdown',{attrs:{\"placement\":\"bottomRight\"}},[_c('a-menu',{attrs:{\"slot\":\"overlay\"},on:{\"click\":_vm.handleMenuClick},slot:\"overlay\"},[(_vm.user_id != _vm.info.user_id)?_c('a-menu-item',{key:\"1\"},[_c('buy-modal',{ref:\"buy\",attrs:{\"info\":_vm.info,\"on-buy\":_vm.onBuy}})],1):_vm._e(),_vm._v(\" \"),(_vm.user_id == _vm.info.user_id || _vm.role_id == 1)?_c('a-menu-item',{key:\"2\"},[_c('div',[_c('a-icon',{attrs:{\"type\":\"money\"}}),_vm._v(\"下架\\n        \")],1)]):_vm._e(),_vm._v(\" \"),(_vm.user_id == _vm.info.user_id)?_c('a-menu-item',{key:\"3\"},[_c('sale-edit',{ref:\"edit\",attrs:{\"info\":_vm.info,\"on-update\":_vm.onBuy}})],1):_vm._e()],1),_vm._v(\" \"),_c('a-button',{staticStyle:{\"margin-left\":\"8px\"},attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"\\n      操作\\n      \\n      \"),_c('a-icon',{attrs:{\"type\":\"down\"}})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-273f04a8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/trans/sales/DropDown.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./DropDown.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./DropDown.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-273f04a8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./DropDown.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/trans/sales/DropDown.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}