webpackJsonp([42],{"1ek0":function(e,t){},KShS:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("AaXs"),o=a("rxb8"),s=a("vMJZ"),i=a("MVsr"),l=a("T6ww"),n=a("qRUo"),c=a("3UNf"),m={components:{StartTime:l.default,EndTime:n.default},data:function(){return{formLayout:"horizontal",form:this.$form.createForm(this,{name:"coordinated"}),games:[],prices:[],users:[]}},created:function(){this.getGameList()},methods:{handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields(function(e,a){e||(console.log("Received values of form: ",a),t.$emit("search",a))})},exportStock:function(){console.log(this.form.getFieldsValue()),Object(i.c)(this.form.getFieldsValue()).then(function(e){console.log(e);c(e.data,"库存列表.xlsx")})},handleGameChange:function(e){console.log("selected "+e),this.form.setFieldsValue({price_id:void 0}),this.getPriceList(e)},handleTypeChange:function(e){this.form.setFieldsValue({user_id:void 0}),this.getUserList(e)},filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},getGameList:function(){var e=this;Object(r.e)().then(function(t){e.games=t.data})},getPriceList:function(e){var t=this;Object(o.g)({game_id:e}).then(function(e){t.prices=e.data})},getUserList:function(e){var t=this;Object(s.p)({user_type:e}).then(function(e){t.users=e.data})}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"z-index":"999",height:"100%"}},[a("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[a("a-row",{staticStyle:{"margin-left":"10px",clear:"both"}},[a("a-col",{staticStyle:{clear:"both"},attrs:{span:22}},[a("a-col",{staticStyle:{"margin-top":"10px"},attrs:{xs:20,sm:16,md:12,lg:8,xl:6}},[a("a-form-item",[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["game_id"],expression:"['game_id']"}],attrs:{showSearch:"",placeholder:"选择游戏",optionFilterProp:"children",filterOption:e.filterOption,allowClear:"",size:"small"},on:{change:e.handleGameChange}},e._l(e.games,function(t){return a("a-select-option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.name))])}),1)],1)],1),e._v(" "),a("a-col",{staticStyle:{"margin-top":"10px"},attrs:{xs:20,sm:16,md:12,lg:8,xl:6}},[a("a-form-item",[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["user_type"],expression:"['user_type']"}],attrs:{showSearch:"",placeholder:"选择账户类型",allowClear:"",size:"small"},on:{change:e.handleTypeChange}},[a("a-select-option",{attrs:{value:"son"}},[e._v("子账户")]),e._v(" "),a("a-select-option",{attrs:{value:"user"}},[e._v("主账户")])],1)],1)],1),e._v(" "),a("a-col",{staticStyle:{"margin-top":"10px"},attrs:{xs:20,sm:16,md:12,lg:8,xl:6}},[a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["identifier"],expression:"['identifier']"}],attrs:{allowClear:"",placeholder:"请输入库存单号",size:"small"}})],1)],1),e._v(" "),a("a-col",{staticStyle:{"margin-top":"10px"},attrs:{xs:20,sm:16,md:12,lg:8,xl:6}},[a("a-form-item",[a("start-time",{directives:[{name:"decorator",rawName:"v-decorator",value:["start_time"],expression:"['start_time']"}]})],1)],1),e._v(" "),a("a-col",{staticStyle:{"margin-top":"10px"},attrs:{xs:20,sm:16,md:12,lg:8,xl:6}},[a("a-form-item",[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["price_id"],expression:"['price_id']"}],attrs:{showSearch:"",placeholder:"选择面值",optionFilterProp:"children",filterOption:e.filterOption,allowClear:"",size:"small"}},e._l(e.prices,function(t){return a("a-select-option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.gold))])}),1)],1)],1),e._v(" "),a("a-col",{staticStyle:{"margin-top":"10px"},attrs:{xs:20,sm:16,md:12,lg:8,xl:6}},[a("a-form-item",[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["user_id"],expression:"['user_id']"}],attrs:{showSearch:"",placeholder:"选择用户",optionFilterProp:"children",filterOption:e.filterOption,allowClear:"",size:"small"}},e._l(e.users,function(t){return a("a-select-option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.name))])}),1)],1)],1),e._v(" "),a("a-col",{staticStyle:{"margin-top":"10px"},attrs:{xs:20,sm:16,md:12,lg:8,xl:6}},[a("a-form-item",[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["status"],expression:"['status']"}],attrs:{showSearch:"",placeholder:"选择库存状态",optionFilterProp:"children",allowClear:"",size:"small"}},[a("a-select-option",{attrs:{value:"1"}},[e._v("正常有效")]),e._v(" "),a("a-select-option",{attrs:{value:"2"}},[e._v("已被使用")]),e._v(" "),a("a-select-option",{attrs:{value:"4"}},[e._v("使用失败")]),e._v(" "),a("a-select-option",{attrs:{value:"5"}},[e._v("后台恢复")]),e._v(" "),a("a-select-option",{attrs:{value:"6"}},[e._v("已经获取")]),e._v(" "),a("a-select-option",{attrs:{value:"7"}},[e._v("禁止使用")]),e._v(" "),a("a-select-option",{attrs:{value:"8"}},[e._v("库存上架")])],1)],1)],1),e._v(" "),a("a-col",{staticStyle:{"margin-top":"10px"},attrs:{xs:20,sm:16,md:12,lg:8,xl:6}},[a("a-form-item",[a("end-time",{directives:[{name:"decorator",rawName:"v-decorator",value:["end_time"],expression:"['end_time']"}]})],1)],1),e._v(" "),a("a-col",{staticStyle:{"margin-top":"10px"},attrs:{xs:20,sm:16,md:12,lg:8,xl:6}},[a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["id"],expression:"['id']"}],attrs:{allowClear:"",placeholder:"请输入库存id",size:"small"}})],1)],1),e._v(" "),a("a-col",{staticStyle:{"margin-top":"10px"},attrs:{xs:10,sm:10,md:10,lg:3,xl:2}},[a("a-form-item",[a("a-button",{attrs:{size:"small",type:"primary","html-type":"submit"}},[e._v("搜索")])],1)],1),e._v(" "),a("a-col",{staticStyle:{"margin-top":"10px"},attrs:{xs:10,sm:10,md:10,lg:3,xl:2}},[e.hasPermission("stock.export")?a("a-form-item",[a("a-button",{attrs:{size:"small",type:"primary"},on:{click:e.exportStock}},[e._v("导出")])],1):e._e()],1)],1)],1)],1)],1)},staticRenderFns:[]};var p=a("VU/8")(m,d,!1,function(e){a("1ek0")},"data-v-eb23d024",null);t.default=p.exports}});
//# sourceMappingURL=42.5c3befe3fa3e220dafff.js.map